{"ast":null,"code":"import _slicedToArray from\"/Users/lucas/Documents/Coding_Dojo/Full-Stack JavaScript/full-stack MERN/exam/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import axios from'axios';import React from'react';import{useEffect}from'react';import{Link,useNavigate,useParams}from'react-router-dom';import Form from'../components/Form';import{useState}from'react';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Update=function Update(){var _useParams=useParams(),id=_useParams.id;var _useState=useState(''),_useState2=_slicedToArray(_useState,2),name=_useState2[0],setName=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),storeNumber=_useState4[0],setStoreNumber=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),open=_useState6[0],setOpen=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),loaded=_useState8[0],setLoaded=_useState8[1];var _useState9=useState({}),_useState10=_slicedToArray(_useState9,2),errors=_useState10[0],setErr=_useState10[1];var navigate=useNavigate();useEffect(function(){axios.get('http://localhost:8000/api/stores/'+id).then(function(res){setName(res.data.results.name);setStoreNumber(res.data.results.storeNumber);setOpen(res.data.results.open);setLoaded(true);});},[id]);var updateStore=function updateStore(store){axios.put('http://localhost:8000/api/stores/update/'+id,store).then(function(res){navigate(\"/stores/\".concat(id));}).catch(function(err){setErr(err.response.data.errors);});};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"m-5 text-start\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex justify-content-between align-items-center\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Store Finder\"}),/*#__PURE__*/_jsx(Link,{to:\"/\",className:\"btn btn-primary my-3\",children:\"Home\"})]}),/*#__PURE__*/_jsx(\"p\",{children:\"Edit this store!\"})]}),loaded&&/*#__PURE__*/_jsx(Form,{setForm:false,initialName:name,initialNumber:storeNumber,initialOpen:open,onSubmitStore:updateStore,errors:errors})]});};export default Update;","map":{"version":3,"names":["axios","React","useEffect","Link","useNavigate","useParams","Form","useState","jsx","_jsx","jsxs","_jsxs","Update","_useParams","id","_useState","_useState2","_slicedToArray","name","setName","_useState3","_useState4","storeNumber","setStoreNumber","_useState5","_useState6","open","setOpen","_useState7","_useState8","loaded","setLoaded","_useState9","_useState10","errors","setErr","navigate","get","then","res","data","results","updateStore","store","put","concat","catch","err","response","children","className","to","setForm","initialName","initialNumber","initialOpen","onSubmitStore"],"sources":["/Users/lucas/Documents/Coding_Dojo/Full-Stack JavaScript/full-stack MERN/exam/client/src/views/Update.jsx"],"sourcesContent":["import axios from 'axios'\nimport React from 'react'\nimport { useEffect } from 'react'\nimport { Link, useNavigate, useParams } from 'react-router-dom'\nimport Form from '../components/Form'\nimport { useState } from 'react'\n\nconst Update = () => {\n    const {id} = useParams()\n    const [name, setName] = useState('')\n    const [storeNumber, setStoreNumber] = useState('')\n    const [open, setOpen] = useState(false)\n    const [loaded, setLoaded] = useState(false)\n    const [errors, setErr] = useState({})\n\n    const navigate = useNavigate()\n\n    useEffect(() => {\n        axios.get('http://localhost:8000/api/stores/' + id)\n            .then(res => {\n                setName(res.data.results.name)\n                setStoreNumber(res.data.results.storeNumber)\n                setOpen(res.data.results.open)\n                setLoaded(true)\n            })\n        }, [id])\n\n    const updateStore = (store) => {\n        axios.put('http://localhost:8000/api/stores/update/'+id, store)\n            .then(res => {navigate(`/stores/${id}`)})\n            .catch(err => {\n                setErr(err.response.data.errors)\n            })\n    }\n    \n    return (\n        <div>\n            <div className='m-5 text-start'>\n                <div className='d-flex justify-content-between align-items-center'>\n                    <h1>Store Finder</h1>\n                    <Link to='/' className='btn btn-primary my-3'>Home</Link>\n                </div>\n                <p>Edit this store!</p>\n            </div>\n            {loaded && (\n                <Form setForm={false} initialName={name} initialNumber={storeNumber} initialOpen={open} onSubmitStore={updateStore} errors={errors}/>\n            )}\n        </div>\n    )\n}\n\nexport default Update"],"mappings":"0KAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,MAAO,CAAAC,KAAK,KAAM,OAAO,CACzB,OAASC,SAAS,KAAQ,OAAO,CACjC,OAASC,IAAI,CAAEC,WAAW,CAAEC,SAAS,KAAQ,kBAAkB,CAC/D,MAAO,CAAAC,IAAI,KAAM,oBAAoB,CACrC,OAASC,QAAQ,KAAQ,OAAO,QAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAEhC,GAAM,CAAAC,MAAM,CAAG,QAAT,CAAAA,MAAMA,CAAA,CAAS,CACjB,IAAAC,UAAA,CAAaR,SAAS,CAAC,CAAC,CAAjBS,EAAE,CAAAD,UAAA,CAAFC,EAAE,CACT,IAAAC,SAAA,CAAwBR,QAAQ,CAAC,EAAE,CAAC,CAAAS,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAA7BG,IAAI,CAAAF,UAAA,IAAEG,OAAO,CAAAH,UAAA,IACpB,IAAAI,UAAA,CAAsCb,QAAQ,CAAC,EAAE,CAAC,CAAAc,UAAA,CAAAJ,cAAA,CAAAG,UAAA,IAA3CE,WAAW,CAAAD,UAAA,IAAEE,cAAc,CAAAF,UAAA,IAClC,IAAAG,UAAA,CAAwBjB,QAAQ,CAAC,KAAK,CAAC,CAAAkB,UAAA,CAAAR,cAAA,CAAAO,UAAA,IAAhCE,IAAI,CAAAD,UAAA,IAAEE,OAAO,CAAAF,UAAA,IACpB,IAAAG,UAAA,CAA4BrB,QAAQ,CAAC,KAAK,CAAC,CAAAsB,UAAA,CAAAZ,cAAA,CAAAW,UAAA,IAApCE,MAAM,CAAAD,UAAA,IAAEE,SAAS,CAAAF,UAAA,IACxB,IAAAG,UAAA,CAAyBzB,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAA0B,WAAA,CAAAhB,cAAA,CAAAe,UAAA,IAA9BE,MAAM,CAAAD,WAAA,IAAEE,MAAM,CAAAF,WAAA,IAErB,GAAM,CAAAG,QAAQ,CAAGhC,WAAW,CAAC,CAAC,CAE9BF,SAAS,CAAC,UAAM,CACZF,KAAK,CAACqC,GAAG,CAAC,mCAAmC,CAAGvB,EAAE,CAAC,CAC9CwB,IAAI,CAAC,SAAAC,GAAG,CAAI,CACTpB,OAAO,CAACoB,GAAG,CAACC,IAAI,CAACC,OAAO,CAACvB,IAAI,CAAC,CAC9BK,cAAc,CAACgB,GAAG,CAACC,IAAI,CAACC,OAAO,CAACnB,WAAW,CAAC,CAC5CK,OAAO,CAACY,GAAG,CAACC,IAAI,CAACC,OAAO,CAACf,IAAI,CAAC,CAC9BK,SAAS,CAAC,IAAI,CAAC,CACnB,CAAC,CAAC,CACN,CAAC,CAAE,CAACjB,EAAE,CAAC,CAAC,CAEZ,GAAM,CAAA4B,WAAW,CAAG,QAAd,CAAAA,WAAWA,CAAIC,KAAK,CAAK,CAC3B3C,KAAK,CAAC4C,GAAG,CAAC,0CAA0C,CAAC9B,EAAE,CAAE6B,KAAK,CAAC,CAC1DL,IAAI,CAAC,SAAAC,GAAG,CAAI,CAACH,QAAQ,YAAAS,MAAA,CAAY/B,EAAE,CAAE,CAAC,EAAC,CAAC,CACxCgC,KAAK,CAAC,SAAAC,GAAG,CAAI,CACVZ,MAAM,CAACY,GAAG,CAACC,QAAQ,CAACR,IAAI,CAACN,MAAM,CAAC,CACpC,CAAC,CAAC,CACV,CAAC,CAED,mBACIvB,KAAA,QAAAsC,QAAA,eACItC,KAAA,QAAKuC,SAAS,CAAC,gBAAgB,CAAAD,QAAA,eAC3BtC,KAAA,QAAKuC,SAAS,CAAC,mDAAmD,CAAAD,QAAA,eAC9DxC,IAAA,OAAAwC,QAAA,CAAI,cAAY,CAAI,CAAC,cACrBxC,IAAA,CAACN,IAAI,EAACgD,EAAE,CAAC,GAAG,CAACD,SAAS,CAAC,sBAAsB,CAAAD,QAAA,CAAC,MAAI,CAAM,CAAC,EACxD,CAAC,cACNxC,IAAA,MAAAwC,QAAA,CAAG,kBAAgB,CAAG,CAAC,EACtB,CAAC,CACLnB,MAAM,eACHrB,IAAA,CAACH,IAAI,EAAC8C,OAAO,CAAE,KAAM,CAACC,WAAW,CAAEnC,IAAK,CAACoC,aAAa,CAAEhC,WAAY,CAACiC,WAAW,CAAE7B,IAAK,CAAC8B,aAAa,CAAEd,WAAY,CAACR,MAAM,CAAEA,MAAO,CAAC,CACvI,EACA,CAAC,CAEd,CAAC,CAED,cAAe,CAAAtB,MAAM"},"metadata":{},"sourceType":"module","externalDependencies":[]}