{"ast":null,"code":"var _jsxFileName = \"/Users/lucas/Documents/Coding_Dojo/Full-Stack JavaScript/full-stack MERN/exam/client/src/views/Update.jsx\",\n  _s = $RefreshSig$();\nimport axios from 'axios';\nimport React from 'react';\nimport { useEffect } from 'react';\nimport { Link, useNavigate, useParams } from 'react-router-dom';\nimport Form from '../components/Form';\nimport { useState } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Update = () => {\n  _s();\n  const {\n    id\n  } = useParams();\n  const [name, setName] = useState('');\n  const [storeNumber, setStoreNumber] = useState('');\n  const [open, setOpen] = useState(false);\n  const [loaded, setLoaded] = useState(false);\n  const [errors, setErr] = useState({});\n  const navigate = useNavigate();\n  useEffect(() => {\n    axios.get('http://localhost:8000/api/stores/' + id).then(res => {\n      setName(res.data.results.name);\n      setStoreNumber(res.data.results.storeNumber);\n      setOpen(res.data.results.open);\n      setLoaded(true);\n    });\n  }, [id]);\n  const updateStore = store => {\n    axios.put('http://localhost:8000/api/stores/update/' + id, store).then(res => {\n      navigate(`/stores/${id}`);\n    }).catch(err => {\n      setErr(err.response.data.errors);\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"m-5 text-start\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"d-flex justify-content-between align-items-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"Store Finder\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 40,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/\",\n          className: \"btn btn-primary my-3\",\n          children: \"Home\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 41,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Edit this store!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 13\n    }, this), loaded && /*#__PURE__*/_jsxDEV(Form, {\n      setForm: false,\n      initialName: name,\n      initialNumber: storeNumber,\n      initialOpen: open,\n      onSubmitStore: updateStore,\n      errors: errors\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 37,\n    columnNumber: 9\n  }, this);\n};\n_s(Update, \"QQIokGDx52UmeWU1D6aankCkPsI=\", false, function () {\n  return [useParams, useNavigate];\n});\n_c = Update;\nexport default Update;\nvar _c;\n$RefreshReg$(_c, \"Update\");","map":{"version":3,"names":["axios","React","useEffect","Link","useNavigate","useParams","Form","useState","jsxDEV","_jsxDEV","Update","_s","id","name","setName","storeNumber","setStoreNumber","open","setOpen","loaded","setLoaded","errors","setErr","navigate","get","then","res","data","results","updateStore","store","put","catch","err","response","children","className","fileName","_jsxFileName","lineNumber","columnNumber","to","setForm","initialName","initialNumber","initialOpen","onSubmitStore","_c","$RefreshReg$"],"sources":["/Users/lucas/Documents/Coding_Dojo/Full-Stack JavaScript/full-stack MERN/exam/client/src/views/Update.jsx"],"sourcesContent":["import axios from 'axios'\nimport React from 'react'\nimport { useEffect } from 'react'\nimport { Link, useNavigate, useParams } from 'react-router-dom'\nimport Form from '../components/Form'\nimport { useState } from 'react'\n\nconst Update = () => {\n    const {id} = useParams()\n    const [name, setName] = useState('')\n    const [storeNumber, setStoreNumber] = useState('')\n    const [open, setOpen] = useState(false)\n    const [loaded, setLoaded] = useState(false)\n    const [errors, setErr] = useState({})\n\n    const navigate = useNavigate()\n\n    useEffect(() => {\n        axios.get('http://localhost:8000/api/stores/' + id)\n            .then(res => {\n                setName(res.data.results.name)\n                setStoreNumber(res.data.results.storeNumber)\n                setOpen(res.data.results.open)\n                setLoaded(true)\n            })\n        }, [id])\n\n    const updateStore = (store) => {\n        axios.put('http://localhost:8000/api/stores/update/'+id, store)\n            .then(res => {navigate(`/stores/${id}`)})\n            .catch(err => {\n                setErr(err.response.data.errors)\n            })\n    }\n    \n    return (\n        <div>\n            <div className='m-5 text-start'>\n                <div className='d-flex justify-content-between align-items-center'>\n                    <h1>Store Finder</h1>\n                    <Link to='/' className='btn btn-primary my-3'>Home</Link>\n                </div>\n                <p>Edit this store!</p>\n            </div>\n            {loaded && (\n                <Form setForm={false} initialName={name} initialNumber={storeNumber} initialOpen={open} onSubmitStore={updateStore} errors={errors}/>\n            )}\n        </div>\n    )\n}\n\nexport default Update"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}